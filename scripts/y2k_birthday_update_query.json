{
    "query": {
        "exists": { "field": "date_of_birth" }
    },
    "script": {
        "lang": "painless",
        "inline": "def df = DateTimeFormatter.ofPattern(\"yyyy/MM/dd\"); def birthday = LocalDate.parse(ctx._source.date_of_birth, df).withYear(2000); ctx._source.y2k_birthday = birthday;"
    }
}
